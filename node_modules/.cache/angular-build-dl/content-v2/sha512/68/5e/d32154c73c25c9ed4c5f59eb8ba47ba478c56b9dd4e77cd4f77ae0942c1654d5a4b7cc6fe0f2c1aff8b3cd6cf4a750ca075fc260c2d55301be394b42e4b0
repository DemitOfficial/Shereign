(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{hTww:function(t,e,r){"use strict";r.r(e),r.d(e,"ProductModule",function(){return k});var i=r("ofXK"),o=r("tyNb"),s=r("fXoL");const a={asc:"desc",desc:"","":"asc"};let c=(()=>{class t{constructor(){this.direction="",this.sort=new s.n}rotate(){this.direction=a[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Lb({type:t,selectors:[["th","sortable",""]],hostVars:4,hostBindings:function(t,e){1&t&&s.gc("click",function(){return e.rotate()}),2&t&&s.Ib("asc","asc"===e.direction)("desc","desc"===e.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sort:"sort"}}),t})();var n=r("2Vo4"),b=r("XNiG"),l=r("LRne"),d=r("vkgz"),u=r("Kj3r"),h=r("eIep"),p=r("3E0/"),m=r("f4AX"),g=r("I/3d");let f=(()=>{class t{constructor(t,e,r){this.pipe=t,this.userservice=e,this.firestore=r,this._loading$=new n.a(!0),this._search$=new b.a,this._tables$=new n.a([]),this._total$=new n.a(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:"",startIndex:0,endIndex:9,totalRecords:0},this.userdata=[],this._search$.pipe(Object(d.a)(()=>this._loading$.next(!0)),Object(u.a)(200),Object(h.a)(()=>this._search()),Object(p.a)(200),Object(d.a)(()=>this._loading$.next(!1))).subscribe(t=>{this._tables$.next(t.tables),this._total$.next(t.total)}),this._search$.next()}get tables$(){return this._tables$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}get startIndex(){return this._state.startIndex}get endIndex(){return this._state.endIndex}get totalRecords(){return this._state.totalRecords}set page(t){this._set({page:t})}set pageSize(t){this._set({pageSize:t})}set startIndex(t){this._set({startIndex:t})}set endIndex(t){this._set({endIndex:t})}set totalRecords(t){this._set({totalRecords:t})}set searchTerm(t){this._set({searchTerm:t})}set sortColumn(t){this._set({sortColumn:t})}set sortDirection(t){this._set({sortDirection:t})}_set(t){Object.assign(this._state,t),this._search$.next()}_search(){const{sortColumn:t,sortDirection:e,page:r,searchTerm:i}=this._state;if(this.userdata=JSON.parse(localStorage.getItem("Productdata")),!(this.userdata.length<=0||null==this.userdata)){let o=function(t,e,r){return""===r||""===e?t:[...t].sort((t,i)=>{const o=(s=""+t[e])<(a=""+i[e])?-1:s>a?1:0;var s,a;return"asc"===r?o:-o})}(this.userdata,t,e);o=o.filter(t=>function(t,e,r){return t.Title.toLowerCase().includes(e.toLowerCase())||t.ProductCode.toLowerCase().includes(e)||t.Description.toLowerCase().includes(e)||t.Price.includes(e)}(t,i));const s=o.length;return this.totalRecords=o.length,this._state.startIndex=(r-1)*this.pageSize+1,this._state.endIndex=(r-1)*this.pageSize+this.pageSize,this.endIndex>this.totalRecords&&(this.endIndex=this.totalRecords),o=o.slice(this._state.startIndex-1,this._state.endIndex),Object(l.a)({tables:o,total:s})}this.getProduct().subscribe(t=>{this.userdata=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}getProduct(){return this.firestore.collection("Products").snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(s.dc(i.e),s.dc(m.a),s.dc(g.a))},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=r("3Pt+"),V=r("1kSV");function W(t,e){if(1&t&&(s.Wb(0,"tbody"),s.Wb(1,"tr"),s.Wb(2,"td"),s.Oc(3),s.Vb(),s.Wb(4,"td"),s.Rb(5,"ngb-highlight",30),s.Vb(),s.Wb(6,"td"),s.Rb(7,"ngb-highlight",30),s.Vb(),s.Wb(8,"td"),s.Rb(9,"ngb-highlight",30),s.Vb(),s.Wb(10,"td"),s.Rb(11,"ngb-highlight",30),s.Vb(),s.Wb(12,"td"),s.Rb(13,"img",31),s.Vb(),s.Vb(),s.Vb()),2&t){const t=e.$implicit,r=e.index,i=s.ic();s.Cb(3),s.Qc(" ",r," "),s.Cb(2),s.pc("result",t.Title)("term",i.service.searchTerm),s.Cb(2),s.pc("result",t.Description)("term",i.service.searchTerm),s.Cb(2),s.pc("result",t.Price)("term",i.service.searchTerm),s.Cb(2),s.pc("result",t.ProductCode)("term",i.service.searchTerm),s.Cb(2),s.pc("src",t.ImageUrl,s.Hc)}}function O(t,e){1&t&&(s.Wb(0,"div",32),s.Wb(1,"h5",33),s.Oc(2,"Modal Heading"),s.Vb(),s.Wb(3,"button",34),s.gc("click",function(){return e.$implicit.dismiss("Cross click")}),s.Oc(4,"\xd7"),s.Vb(),s.Vb(),s.Wb(5,"div",35),s.Wb(6,"h5"),s.Oc(7,"Overflowing text to show scroll behavior"),s.Vb(),s.Wb(8,"p"),s.Oc(9,"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."),s.Vb(),s.Wb(10,"p"),s.Oc(11,"Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor."),s.Vb(),s.Wb(12,"p"),s.Oc(13,"Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla."),s.Vb(),s.Vb(),s.Wb(14,"div",36),s.Wb(15,"button",37),s.gc("click",function(){return e.$implicit.close("Close click")}),s.Oc(16,"Close"),s.Vb(),s.Wb(17,"button",38),s.Oc(18,"Save changes"),s.Vb(),s.Vb())}const C=function(){return["/product/create-product"]};let w=(()=>{class t{constructor(t,e){this.service=t,this.firestore=e,this.hideme=[],this.userdata=[],this.isCollapsed=!0}ngOnInit(){this.tables$=this.service.tables$,this.total$=this.service.total$,this.breadCrumbItems=[{label:"Tables"},{label:"Datatables",active:!0}],this.getProduct().subscribe(t=>{this.userdata=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),console.log(this.userdata),localStorage.setItem("Productdata",JSON.stringify(this.userdata))},t=>{console.log(t)})}_fetchData(){this.tableData=this.userdata}onSort({column:t,direction:e}){this.headers.forEach(e=>{e.sortable!==t&&(e.direction="")}),this.service.sortColumn=t,this.service.sortDirection=e}getProduct(){return this.firestore.collection("Products").snapshotChanges()}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(f),s.Qb(g.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-Allproducts"]],viewQuery:function(t,e){if(1&t&&s.Uc(c,!0),2&t){let t;s.Bc(t=s.hc())&&(e.headers=t)}},decls:59,vars:19,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"btn","btn-info",2,"float","right",3,"routerLink"],[1,"card-title"],[1,"card-sub-title"],[1,"row","mb-md-2"],[1,"col-sm-12","col-md-6"],["id","tickets-table_length",1,"dataTables_length"],[1,"d-inline-flex","align-items-center"],["name","tickets-table_length","aria-controls","tickets-table","name","pageSize",1,"form-control","form-control-sm","mx-2",3,"ngModel","ngModelChange"],[3,"ngValue"],["id","tickets-table_filter",1,"dataTables_filter","text-md-end"],["type","text","name","searchTerm","aria-controls","tickets-table",1,"form-control","form-control-sm","ms-2",3,"ngModel","ngModelChange"],[1,"table-responsive"],["id","basic-datatable",1,"table","table-bordered","dt-responsive","nowrap","w-100","datatables"],["sortable","name",3,"sort"],["sortable","email",3,"sort"],["sortable","dateofbirth",3,"sort"],["sortable","image",3,"sort"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","mt-2"],[1,"col-sm-12","col-md-5"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-md-end","float-md-end","pagination-rounded"],[3,"collectionSize","page","pageSize","pageChange"],["role","document"],["content",""],[3,"result","term"],[2,"height","20px","width","30px",3,"src"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn","btn-primary"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"div",4),s.Wb(5,"p",5),s.Oc(6,"+ Add Product"),s.Vb(),s.Wb(7,"h4",6),s.Oc(8,"Default Datatable"),s.Vb(),s.Wb(9,"p",7),s.Oc(10," Example of datatable. "),s.Vb(),s.Wb(11,"div",8),s.Wb(12,"div",9),s.Wb(13,"div",10),s.Wb(14,"label",11),s.Oc(15,"Show "),s.Wb(16,"select",12),s.gc("ngModelChange",function(t){return e.service.pageSize=t}),s.Wb(17,"option",13),s.Oc(18,"10"),s.Vb(),s.Wb(19,"option",13),s.Oc(20,"25"),s.Vb(),s.Wb(21,"option",13),s.Oc(22,"50"),s.Vb(),s.Wb(23,"option",13),s.Oc(24,"100"),s.Vb(),s.Vb(),s.Oc(25," entries"),s.Vb(),s.Vb(),s.Vb(),s.Wb(26,"div",9),s.Wb(27,"div",14),s.Wb(28,"label",11),s.Oc(29,"Search: "),s.Wb(30,"input",15),s.gc("ngModelChange",function(t){return e.service.searchTerm=t}),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(31,"div",16),s.Wb(32,"table",17),s.Wb(33,"thead"),s.Wb(34,"tr"),s.Wb(35,"th"),s.Oc(36,"#"),s.Vb(),s.Wb(37,"th",18),s.gc("sort",function(t){return e.onSort(t)}),s.Oc(38,"Title"),s.Vb(),s.Wb(39,"th",19),s.gc("sort",function(t){return e.onSort(t)}),s.Oc(40,"Description"),s.Vb(),s.Wb(41,"th",20),s.gc("sort",function(t){return e.onSort(t)}),s.Oc(42,"Price"),s.Vb(),s.Wb(43,"th",21),s.gc("sort",function(t){return e.onSort(t)}),s.Oc(44,"SKU"),s.Vb(),s.Wb(45,"th",21),s.gc("sort",function(t){return e.onSort(t)}),s.Oc(46,"Image"),s.Vb(),s.Vb(),s.Vb(),s.Mc(47,W,14,10,"tbody",22),s.jc(48,"async"),s.Vb(),s.Vb(),s.Wb(49,"div",23),s.Wb(50,"div",24),s.Wb(51,"div",25),s.Oc(52),s.Vb(),s.Vb(),s.Wb(53,"div",24),s.Wb(54,"div",26),s.Wb(55,"ngb-pagination",27),s.gc("pageChange",function(t){return e.service.page=t}),s.jc(56,"async"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Mc(57,O,19,0,"ng-template",28,29,s.Nc)),2&t&&(s.Cb(5),s.pc("routerLink",s.tc(18,C)),s.Cb(11),s.pc("ngModel",e.service.pageSize),s.Cb(1),s.pc("ngValue",10),s.Cb(2),s.pc("ngValue",25),s.Cb(2),s.pc("ngValue",50),s.Cb(2),s.pc("ngValue",100),s.Cb(7),s.pc("ngModel",e.service.searchTerm),s.Cb(17),s.pc("ngForOf",s.kc(48,14,e.tables$)),s.Cb(5),s.Sc("Showing ",e.service.startIndex," to ",e.service.endIndex," of ",e.service.totalRecords," entries "),s.Cb(3),s.pc("collectionSize",s.kc(56,16,e.total$))("page",e.service.page)("pageSize",e.service.pageSize))},directives:[o.d,v.t,v.l,v.o,v.p,v.v,v.b,i.l,V.B,V.p],pipes:[i.b],styles:[""]}),t})();var _=r("mrSG"),y=r("Vaw3"),x=r("UbJi");const S=[{path:"create-product",component:(()=>{class t{constructor(t,e,r,i,o){this.afStorage=t,this.formBuilder=e,this.afs=r,this.afAuth=i,this.router=o}upload(t){this.filePath=t.target.files[0]}uploadImage(){return Object(_.b)(this,void 0,void 0,function*(){console.log(this.filePath);var t="/images"+Math.random()+this.filePath,e=yield this.afStorage.upload(t,this.filePath);return this.getUrl(e)})}ngOnInit(){this.breadCrumbItems=[{label:"Profuct"},{label:"Add Product",active:!0}],this.message="<div class='mb-3'><i class=\"display-4 text-muted uil uil-cloud-upload\"></i></div>Drop files here or click to upload.",this.Createproduct=this.formBuilder.group({Title:["",[v.u.required]],Description:["",[v.u.required]],Price:["",[v.u.required]],ImageUrl:[""],ProductCode:["",[v.u.required]]})}getUrl(t){return Object(_.b)(this,void 0,void 0,function*(){const e=yield t.ref.getDownloadURL();this.url=e,console.log(this.url)})}Submitproduct(){return Object(_.b)(this,void 0,void 0,function*(){yield this.uploadImage(),this.Createproduct.get("ImageUrl").patchValue(this.url),this.afs.collection("Products").add(this.Createproduct.value),this.Createproduct.reset(),this.router.navigate(["/product/all-product"])})}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(y.a),s.Qb(v.d),s.Qb(g.a),s.Qb(x.a),s.Qb(o.c))},t.\u0275cmp=s.Kb({type:t,selectors:[["app-Create-Product"]],decls:57,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-flex","align-items-center","justify-content-between"],[1,"mb-0"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"mt-4"],[1,"font-size-14","mb-4"],[1,"mdi","mdi-arrow-right","text-primary","me-1"],[3,"formGroup"],[1,"col-md-4"],[1,"mb-3"],["for","formrow-email-input",1,"form-label"],["type","text","formControlName","Title","id","formrow-email-input",1,"form-control"],["for","formrow-password-input",1,"form-label"],["type","text","formControlName","ProductCode","id","formrow-password-input",1,"form-control"],["type","number","formControlName","Price","id","formrow-password-input",1,"form-control"],["required","","formControlName","Description","rows","5",1,"form-control"],[1,"form-label"],["type","file","accept",".png,.jpg",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary","w-md",3,"click"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"h4",4),s.Oc(5,"Product"),s.Vb(),s.Wb(6,"div",5),s.Wb(7,"ol",6),s.Wb(8,"li",7),s.Wb(9,"a",8),s.Oc(10,"Products"),s.Vb(),s.Vb(),s.Wb(11,"li",9),s.Oc(12,"Add Product"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(13,"div",1),s.Wb(14,"div",10),s.Wb(15,"div",11),s.Wb(16,"div",12),s.Wb(17,"h4",13),s.Oc(18,"Add Product"),s.Vb(),s.Wb(19,"div",1),s.Wb(20,"div",10),s.Wb(21,"div",14),s.Wb(22,"h5",15),s.Rb(23,"i",16),s.Oc(24," Add New Product "),s.Vb(),s.Wb(25,"form",17),s.Wb(26,"div",1),s.Wb(27,"div",18),s.Wb(28,"div",19),s.Wb(29,"label",20),s.Oc(30,"Title"),s.Vb(),s.Rb(31,"input",21),s.Vb(),s.Vb(),s.Wb(32,"div",18),s.Wb(33,"div",19),s.Wb(34,"label",22),s.Oc(35,"SKU"),s.Vb(),s.Rb(36,"input",23),s.Vb(),s.Vb(),s.Wb(37,"div",18),s.Wb(38,"div",19),s.Wb(39,"label",22),s.Oc(40,"Price"),s.Vb(),s.Rb(41,"input",24),s.Vb(),s.Vb(),s.Vb(),s.Wb(42,"div",1),s.Wb(43,"div",18),s.Wb(44,"div",19),s.Wb(45,"label",22),s.Oc(46,"Description"),s.Vb(),s.Rb(47,"textarea",25),s.Vb(),s.Vb(),s.Wb(48,"div",18),s.Rb(49,"br"),s.Wb(50,"div",19),s.Wb(51,"label",26),s.Oc(52,"File:"),s.Vb(),s.Wb(53,"input",27),s.gc("change",function(t){return e.upload(t)}),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(54,"div",14),s.Wb(55,"button",28),s.gc("click",function(){return e.Submitproduct()}),s.Oc(56,"Submit"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Cb(25),s.pc("formGroup",e.Createproduct))},directives:[v.w,v.m,v.f,v.b,v.l,v.e,v.q,v.s],styles:[""]}),t})()},{path:"all-product",component:w}];let P=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(S)],o.g]}),t})();var I=r("vV3i");const $={url:"https://httpbin.org/post"};let k=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},providers:[i.e,f,{provide:I.a,useValue:$}],imports:[[i.c,P,v.h,v.r,V.C,V.P,V.i,V.n,I.c]]}),t})()}}]);